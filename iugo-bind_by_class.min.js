/*Chris Scott MIT license*/
$iugo.$internals.MVVC.prototype.initializers.push(function(b){for(var h=/(>[^<$]*)\$\{([^.}<]+)\.?([^}<]*)\}([^<]*<)/g;b.innerHTML.match(h);)b.innerHTML=b.innerHTML.replace(h,'$1<span class="bindto-$2" data-bind_key="$3"></span>$4')}); $iugo.$internals.MVVC.prototype.defaultViewcontrollers.push(function(b,h,g){function i(e,c,b){if(c.hasAttribute("data-bind_attribute")){for(var d=c.getAttribute("data-bind_attribute_to").split("."),f=e,a=0;a<d.length;a++)f=f[d[a]];c.setAttribute(c.getAttribute("data-bind_attribute"),f)}if(e instanceof Array){b=c.children.length;for(a=0;a<b;a++)if(c.children[a].hasAttribute("data-bind_each")){d=c.children[a];0==e.length?(d.setAttribute("data-iugo_display",d.style.display),d.style.display="none"):d.style.display= d.getAttribute("data-iugo_display");for(f=0;f<e.length;f++)1<=f&&(d=d.cloneNode(!0),d.className+=" iugo_cloned",c.appendChild(d)),i(e[f],d)}}else if(e instanceof Object){a=c.getAttribute("data-bind_key");null!=a&&""!=a&&(b=null==b?"":b+".",a=a.slice(b.length).split(".")[0],i(e[a],c,b+a));for(a=0;a<c.children.length;a++)i(e,c.children[a],b)}else"INPUT"==c.tagName?c.value=e:c.innerHTML=e}b=g.getElementsByClassName("bindto-"+b);for(g=0;g<b.length;g++){for(var j=b[g].getElementsByClassName("iugo_cloned"), l=j.length,k=0;k<l;k++)j[0].parentNode.removeChild(j[0]);i(h,b[g])}});